<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rand Demo</title>
    <link href="reset.css" rel="stylesheet">
    <style>
      #demo {
        border: 1px dashed #ccc;
        /*height: 400px;*/
        position: relative;
      }

      .GraphPaper {
        background-color: #269;
        background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
        background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px;
        background-image: linear-gradient(white 2px, transparent 2px),
                          linear-gradient(90deg, white 2px, transparent 2px),
                          linear-gradient(rgba(255,255,255,.3) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(255,255,255,.3) 1px, transparent 1px);
      }
    </style>
  </head>

  <body>

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
<!-- <script src='jquery/jquery-1.9.1.js'></script> -->
<script src='jquery/jquery.min.js'></script>
<script src='thing.js'></script>

<script type="text/javascript">
var imgNames = [
  'elvis_eye_left_round.png',
  'elvis_eye_left_square.png',
  'elvis_eye_right_round.png',
  'elvis_eye_right_square.png',
  'elvis_mouth_round.png',
  'elvis_mouth_square.png',
  'marilyn_eye_left_fuzzy.png',
  'marilyn_eye_left_round.png',
  'marilyn_eye_left_square.png',
  'marilyn_eye_right_fuzzy.png',
  'marilyn_eye_right_round.png',
  'marilyn_eye_right_square.png',
  'marilyn_mouth.png',
  'marilyn_mouth_round.png',
  'marilyn_mouth_square.png',
  'mona_eye_left_circle.png',
  'mona_eye_left_fuzzy.png',
  'mona_eye_right_circle.png',
  'mona_eye_right_fuzzy.png',
  'mona_eye_right_square.png',
  'washington_eye_left_fuzzy.png',
  'washington_eye_left_round.png',
  'washington_eye_left_square.png',
  'washington_eye_right_fuzzy.png',
  'washington_eye_right_round.png',
  'washington_eye_right_square.png',
  'washington_mouth_fuzzy.png',
  'washington_mouth_round.png',
  'washington_mouth_square.png',
  'yoda_eye_left_fuzzy.png',
  'yoda_eye_right.png',
  'yoda_eye_right_fuzzy.png',
  'yoda_left_eye.png',
  'yoda_mouth_circle.png'
];

//-----------------------

class GraphPaper extends Thing {
  init (props) {
    var defaultProps = {
      position: 'absolute',
      width: '100%',
      height: '100%',
      left: '0px',
      top: '0px',
      backgroundColor: '#003',
      color: '#ddd'
    };
    props = $.extend({}, defaultProps, props);
    this.initialize(props);
    this.type = 'GraphPaper';
    this.$element = Thing.makeElement(this.html(), this.props, this.type);
  }
}
Thing.classes.GraphPaper = GraphPaper;

//-----------------------

function imgBunch () {
  var Imgs = [];

  for (var i=0; i < imgNames.length; i++) {
    var facepart = Img.make({
      src: 'img/faceparts/' + imgNames[i],
      x: i*10,
      y: i*10,
      opacity: .1 + Rand.randFloat(),
      scale: .5 + Rand.randFloat()
    });
    Imgs.push(facepart);
  }

  for (var i=0; i < Imgs.length; i++) {
    Imgs[i].render();
  }
}

//-----------------------

function scatterBox (randFunction, title) {
  var size = 100;
  var outerboxsize = ((size+2) * 2)+1;
  var Box = Thing.getClass('Box');
  var Label = Thing.getClass('Label');
  var outerbox = Box.make({
    position: 'relative',
    display: 'inline-block',
    w: outerboxsize,
    h: outerboxsize,
    border: '0',
    margin: '10px',
    fontSize: 0
  });
  var title = Label.make({
    text: title,
    position: 'relative',
    left: 0,
    top: 0
  });
  var one = Label.make({
    text: '1',
    position: 'absolute',
    right: '0%',
    top: '50%'
  });
  var oneBottom = Label.make({
    text: '1',
    position: 'absolute',
    left: '50%',
    top: '105%'
  });
  var negativeOne = Label.make({
    text: '-1',
    position: 'absolute',
    left: '0%',
    top: '50%'
  });
  var negativeOneTop = Label.make({
    text: '-1',
    position: 'absolute',
    left: '50%',
    top: '0%'
  });
  var sb = null;

  function makeInnerBox() {
    return Box.make({
      position: 'relative',
      display: 'inline-block',
      w: size,
      h: size,
      border: '1px dashed #ddd',
      margin: '0'
    });
  }

  outerbox.add(title);
  outerbox.add(makeInnerBox());
  outerbox.add(makeInnerBox());
  outerbox.add(makeInnerBox());
  outerbox.add(sb = makeInnerBox());
  outerbox.add(one);
  outerbox.add(oneBottom);
  outerbox.add(negativeOne);
  outerbox.add(negativeOneTop);
  outerbox.render();

  for (var i=0; i < 1000; i++) {
    var t = Thing.make({
      w: 2,
      h: 2,
      x: randFunction()*size,
      y: randFunction()*size,
      backgroundColor: '#000',
      opacity: .4
    });
    sb.add(t);
    t.render();
  }

  return outerbox;
}

//-----------------------

var Rand = Thing.getClass('Rand');
var sb = scatterBox(Rand.randFloat, 'randFloat');
var sb = scatterBox(Rand.randPow, 'randPow');
var sb = scatterBox(Rand.randSin, 'randSin');
var sb = scatterBox(Rand.randNormal, 'randNormal');
var sb = scatterBox(Rand.randPow2, 'randPow2');
var sb = scatterBox(Rand.randSin2, 'randSin2');

var Line = Thing.getClass('Line');
var a = Line.make({
  x1: (Math.random()*100),
  y1: (Math.random()*200),
  x2: (200 + Math.random()*500),
  y2: (Math.random()*500),
  width: parseInt(1 + (Math.random()*3), 10),
  opacity: .1 + (Math.random()*.9)
});
a.render();

</script>


  </body>
</html>
